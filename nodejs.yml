---
- name: 'Add Nodeource Key'
  apt_key: 
    url: https://deb.nodesource.com/gpgkey/nodesource.gpg.key

- name: 'Add NodeSource Repository'
  apt_repository:
    repo: 'deb https://deb.nodesource.com/node_{{ node_version }} {{ ansible_distribution_release }} main' 
    update_cache: yes

- name: 'Install NodeJS'
  apt:
    name: nodejs

- name: 'Set Node Prefix'
  become_user: "{{ ansible_user }}"
  command: npm config set prefix ~/.local
  
- name: 'Install "angular-cli"'
  become_user: "{{ ansible_user }}"
  npm:
    name: "@angular/cli"
    global: yes